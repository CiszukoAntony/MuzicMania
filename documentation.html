<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MuzicMania - Centro de Documentación</title>
    <link rel="icon" type="image/svg+xml" href="content/logos/imagen/not outline/isotipo/degradado/color/muzicmania_logo_isotipo_notoutline_degradado_color.svg">
    <link rel="preload" href="content/icons/sprites/sprite-filled.svg?v=FORCE_FIX_FINAL_V2" as="image" type="image/svg+xml">
    <link rel="stylesheet" href="styles.css?v=MM_FIX_ICONS_V1">
    <!-- CDN Links Removed (Using local sprites) -->
    <style>
        /* Local overrides if necessary */
        .sidebar-loading {
            padding: 2rem;
            color: var(--neon-cyan);
            font-size: 0.9rem;
            text-align: center;
        }
    </style>
</head>
<body class="bg-futuristic">

    <main>
        <div class="docs-hero-section">
            <div class="hero-glow"></div>
            <div class="container text-center">
                <h1 class="neon-text-blue">CENTRO DE DOCUMENTACIÓN</h1>
                <p class="lead">Manuales, Guías y Protocolos Oficiales de MuzicMania</p>
            </div>
        </div>

        <div id="header-root"></div>

        <div class="docs-portal-container">
            <!-- Sidebar Navigation -->
            <aside class="docs-sidebar">
                <div class="sidebar-header">
                    <h3><svg class="icon" aria-hidden="true"><use href="content/icons/sprites/sprite-filled.svg#fa-filled-magnifying-glass"></use></svg> BUSCAR DOCUMENTOS</h3>
                </div>
                <div class="sidebar-search">
                    <input type="text" id="docs-local-search" placeholder="Escribe para buscar...">
                    <svg class="icon" aria-hidden="true"><use href="content/icons/sprites/sprite-filled.svg#fa-filled-magnifying-glass"></use></svg>
                </div>
                <nav id="docs-sidebar-nav" class="docs-nav-menu">
                    <!-- Dynamically populated by docs-manager.js -->
                    <div class="sidebar-loading">Cargando índice...</div>
                </nav>
            </aside>

            <!-- Main Content Area -->
            <section class="docs-main-content">
                <!-- Document header moved back to the TOP -->
                <header class="doc-view-header">
                    <!-- Breadcrumb REMOVED as per user request -->
                    <h1 id="doc-display-title">Cargando documento...</h1>

                    <div class="view-controls">
                        <div class="format-selector">
                            <button class="active" onclick="DocPortal.setFormat('md')">MD</button>
                            <button onclick="DocPortal.setFormat('txt')">TXT</button>
                            <button class="btn-disabled" disabled>PDF</button>
                            <button class="btn-disabled" disabled>WORD</button>
                        </div>
                    </div>
                </header>

                <div id="doc-content-body" class="doc-article-canvas">
                    <!-- Content injected here -->
                </div>

                <footer class="doc-nav-footer">
                    <button class="btn btn-sm btn-outline nav-prev">
                        <svg class="icon small" aria-hidden="true"><use href="content/icons/sprites/sprite-filled.svg#fa-filled-arrow-left"></use></svg> <span>Anterior Página</span>
                    </button>
                    <button class="btn btn-sm btn-outline nav-next">
                        <span>Siguiente Página</span> <svg class="icon small" aria-hidden="true"><use href="content/icons/sprites/sprite-filled.svg#fa-filled-arrow-right"></use></svg>
                    </button>
                </footer>
            </section>

            <!-- Right Info Panel (Metadata) -->
            <aside class="docs-info-panel">
                <div class="info-card">
                    <h4><svg class="icon small" aria-hidden="true"><use href="content/icons/sprites/sprite-filled.svg#ri-filled-information"></use></svg> Detalles del Documento</h4>
                    <div class="info-item">
                        <label>Descripción:</label>
                        <p id="doc-desc">---</p>
                    </div>
                    <div class="info-item">
                        <label>Última Actualización:</label>
                        <p id="doc-last-update">---</p>
                    </div>
                    <div class="info-item">
                        <label>Autor:</label>
                        <p id="doc-author">---</p>
                    </div>
                </div>

                <!-- Version Selector moved BEFORE Download (User Request) -->
                <div class="version-selector-card">
                    <h4><svg class="icon small" aria-hidden="true"><use href="content/icons/sprites/sprite-filled.svg#fa-filled-clock-rotate-left"></use></svg> Selector de Versiones</h4>
                    <select class="version-select">
                        <option value="current">Versión Actual (v1.0.0)</option>
                    </select>
                </div>

                <!-- FIX 6: Sección 1 - Descargar Documento Independiente -->
                <div class="download-card">
                    <h4 id="download-doc-title"><svg class="icon small" aria-hidden="true"><use href="content/icons/sprites/sprite-filled.svg#fa-filled-file"></use></svg> Descargar Documento Independiente</h4>
                    <div id="docs-formats-list" class="formats-grid mb-3">
                        <!-- Injected by docs-manager.js -->
                    </div>
                </div>

                <!-- FIX 6: Sección 2 - Descargar Paquetes Independientes -->
                <div class="download-card">
                    <h4><svg class="icon small" aria-hidden="true"><use href="content/icons/sprites/sprite-filled.svg#fa-filled-box-archive"></use></svg> Descargar Paquetes Independientes</h4>
                    <div class="packages-grid">
                        <button class="btn btn-full btn-export" onclick="DocPortal.exportToZIP()">
                            <svg class="icon small" aria-hidden="true" style="margin-right: 8px;"><use href="content/icons/sprites/sprite-filled.svg#fa-filled-file-zipper"></use></svg> EXPORTAR A ZIP
                        </button>
                        <button class="btn btn-full btn-export" onclick="DocPortal.exportToRAR()">
                            <svg class="icon small" aria-hidden="true" style="margin-right: 8px;"><use href="content/icons/sprites/sprite-filled.svg#fa-filled-box-archive"></use></svg> EXPORTAR A RAR
                        </button>
                        <button class="btn btn-full btn-export" onclick="DocPortal.exportTo7ZIP()">
                            <svg class="icon small" aria-hidden="true" style="margin-right: 8px;"><use href="content/icons/sprites/sprite-filled.svg#fa-filled-file-zipper"></use></svg> EXPORTAR A 7ZIP
                        </button>
                    </div>
                </div>

                </div>
            </aside>
        </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="scripts/layout.js?v=MM_FIX_ICONS_V1"></script>
    <script src="scripts/docs-manager.js?v=MM_FIX_ICONS_V1"></script>
    <script src="scripts/auth.js?v=MM_FIX_ICONS_V1"></script>
    <script src="scripts/utils.js?v=MM_FIX_ICONS_V1"></script>
    <script src="scripts/search.js?v=MM_FIX_ICONS_V1"></script>
    <script src="scripts/navigation.js?v=MM_FIX_ICONS_V1"></script>
</body>
</html>
